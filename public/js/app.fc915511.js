(function(e){function t(t){for(var a,o,r=t[0],l=t[1],c=t[2],d=0,m=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],a=!0,r=1;r<s.length;r++){var l=s[r];0!==n[l]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=s[0]))}return e}var a={},n={app:0},i=[];function o(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=a,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(s,a,function(t){return e[t]}.bind(null,a));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=l;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0707":function(e,t,s){"use strict";var a=s("1395"),n=s.n(a);n.a},"0c64":function(e,t,s){},"0d73":function(e,t,s){"use strict";var a=s("6b55"),n=s.n(a);n.a},1395:function(e,t,s){},"1d808":function(e,t,s){e.exports=s.p+"img/24g_logo.67e6cac5.svg"},"2b6b":function(e,t,s){"use strict";var a=s("0c64"),n=s.n(a);n.a},"3aa4":function(e,t,s){e.exports=s.p+"img/powered_by_24g.93a3ea2c.svg"},"55c4":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=s("8c4f"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Alerts",{attrs:{user:e.globalUser}}),a("Header",{attrs:{user:e.globalUser}}),a("router-view"),a("img",{staticClass:"24g",attrs:{src:s("3aa4"),alt:"powered-by-24g"}})],1)},o=[],r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"alerts"},[e.user?s("p",{staticClass:"alerts__text alerts__text--welcome"},[e._v("Welcome, "+e._s(e.user.name))]):s("p",{staticClass:"alerts__text"},[s("span",{staticClass:"alerts--welcome"},[e._v("Welcome,")]),e._v(" Albert")])])},l=[],c={name:"Alerts",props:["user"]},u=c,d=(s("6788"),s("2877")),m=Object(d["a"])(u,r,l,!1,null,"4f1bcf61",null),v=m.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"nav"},[a("router-link",{staticClass:"nav__left",attrs:{to:"/"}},[a("img",{staticClass:"nav__logo",attrs:{src:s("1d808"),alt:"24G Logo"}}),a("h1",{staticClass:"nav__h1"},[e._v("Video Player")])]),e.user?a("ul",{staticClass:"nav__list"},[e._m(1),a("li",{staticClass:"nav__item",on:{click:e.logout}},[a("router-link",{staticClass:"nav__link nav__link--active",attrs:{to:"/"}},[e._v("Sign Out")])],1)]):a("ul",{staticClass:"nav__list"},[e._m(0),a("li",{staticClass:"nav__item"},[a("router-link",{staticClass:"nav__link",attrs:{to:"/login"}},[e._v("Log In")])],1),a("li",{staticClass:"nav__item"},[a("router-link",{staticClass:"nav__link nav__link--active",attrs:{to:"/login"}},[e._v("Sign Up")])],1)])],1)},f=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"nav__item"},[s("a",{staticClass:"nav__link",staticStyle:{color:"orange"},attrs:{href:"https://24g.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("24G.com")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"nav__item"},[s("a",{staticClass:"nav__link",staticStyle:{color:"orange"},attrs:{href:"https://24g.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("24G.com")])])}],_=(s("96cf"),s("1da1")),h=s("bc3a"),g=s.n(h),b={name:"Header",props:["user"],methods:{logout:function(){return Object(_["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g()({method:"GET",url:"/api/v1/users/logout"});case 3:t=e.sent,"success"===t.data.status&&(location.reload(!0),sessionStorage.setItem("user",JSON.stringify(""))),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),alert(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},w=b,C=(s("0707"),Object(d["a"])(w,p,f,!1,null,"3ff01879",null)),x=C.exports,S={name:"App",data:function(){return{globalUser:null}},components:{Alerts:v,Header:x},mounted:function(){sessionStorage.user&&(this.globalUser=JSON.parse(sessionStorage.user))}},y=S,O=(s("5c0b"),Object(d["a"])(y,i,o,!1,null,null,null)),k=O.exports,j=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home"},[s("SelectedVideo",{staticClass:"home__left",attrs:{user:e.user,video:e.videos[e.mainVid]},on:{newcomment:e.updateVideos}}),s("div",{staticClass:"home__right"},e._l(e.videos,(function(t){return s("div",{key:t._id,staticClass:"home__videolist",on:{click:function(s){e.changeVids(e.videos.indexOf(t))}}},[s("VideoItem",{attrs:{video:t}})],1)})),0)],1)},P=[],V=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"selected"},[s("h2",{staticClass:"selected__title"},[e._v(e._s(e.video.title))]),s("video",{staticClass:"selected__video",attrs:{src:e.video.video,controls:"",poster:e.video.thumb}}),s("div",{staticStyle:{width:"95%"}},[s("div",{staticClass:"selected__details"},[s("h3",{staticClass:"selected__details__views"},[e._v(e._s(e.video.views)+" views")]),s("div",{staticClass:"selected__thumbs"},[s("div",{staticClass:"selected__like",on:{click:function(t){e.video.likes+=1}}},[e._v("👍 "+e._s(e.video.likes))]),s("div",{staticClass:"selected__dislike",on:{click:e.downvote}},[e._v("👎 "+e._s(e.video.dislikes))])])]),s("form",{staticClass:"selected__commentbox"},[s("label",{staticClass:"selected__commentbox__label",attrs:{for:"comments"}},[e._v("Comments")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],staticClass:"selected__commentbox__textarea",attrs:{rows:"4",id:"comments",placeholder:"Type a sweet comment..."},domProps:{value:e.text},on:{input:function(t){t.target.composing||(e.text=t.target.value)}}}),s("button",{staticClass:"selected__commentBtn",on:{click:e.handleSubmit}},[e._v("add comment")])]),e._l(e.video.comments,(function(e){return s("div",{key:e._id,staticClass:"selected__comments"},[s("Comment",{attrs:{comment:e}})],1)}))],2)])},I=[],E=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"comment"},[s("img",{staticClass:"comment__picture",attrs:{src:e.comment.user.photo,alt:"user"}}),s("div",{staticClass:"comment__text"},[s("h4",[e._v(e._s(e.comment.user.name))]),s("p",[e._v(e._s(e.comment.comment))])])])},N=[],$={name:"Comment",props:["comment"]},J=$,U=(s("5e36"),Object(d["a"])(J,E,N,!1,null,"5f924448",null)),T=U.exports,R={name:"SelectedVideo",data:function(){return{text:null,videoId:null,userId:null}},props:["video","user"],components:{Comment:T},methods:{handleSubmit:function(e){if(e.preventDefault(),!this.user)return alert("Please sign in to comment.");this.userId=this.user._id,this.videoId=this.video._id,this.createComment(this.text,this.videoId,this.userId),this.text=""},downvote:function(){this.video.dislikes>0&&(this.video.dislikes-=1)},createComment:function(e,t,s){var a=this;return Object(_["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g()({method:"POST",url:"/api/v1/comments/",data:{comment:e,video:t,user:s}});case 3:i=n.sent,"success"===i.data.status&&a.$emit("newcomment"),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),alert(n.t0.response.data.message);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}}},D=R,L=(s("edab"),Object(d["a"])(D,V,I,!1,null,"5dd4bdda",null)),A=L.exports,G=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"videolist"},[s("h2",{staticClass:"videolist__title"},[e._v(e._s(e.video.title))]),s("img",{staticClass:"videolist__video",attrs:{src:e.video.thumb,alt:"thumbnail"}})])},H=[],M={name:"VideoList",props:["video"]},W=M,B=(s("e8f7"),Object(d["a"])(W,G,H,!1,null,"e0a8513e",null)),q=B.exports;g.a.defaults.withCredentials=!0;var z={name:"Home",components:{SelectedVideo:A,VideoItem:q},data:function(){return{videos:[],user:null,mainVid:0}},methods:{updateVideos:function(){sessionStorage.setItem("homeVideos",""),this.fetchData()},changeVids:function(e){this.mainVid=e},fetchData:function(){var e=this;sessionStorage.homeVideos?this.videos=JSON.parse(sessionStorage.homeVideos):g.a.get("/api/v1/videos").then((function(t){sessionStorage.setItem("homeVideos",JSON.stringify(t.data.data.videos)),e.videos=JSON.parse(sessionStorage.homeVideos)})).catch((function(e){return alert("ERROR: "+e.response.data.message)}))}},created:function(){this.fetchData()},mounted:function(){sessionStorage.user&&(this.user=JSON.parse(sessionStorage.user))}},F=z,K=(s("d6e9"),Object(d["a"])(F,j,P,!1,null,"6d200dc8",null)),Q=K.exports,X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-signup"},[s("SignIn"),s("SignUp")],1)},Y=[],Z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("form",{staticClass:"form form--signin",on:{submit:e.handleSubmit}},[s("h2",{staticClass:"form__h2"},[e._v("Log into your account")]),s("label",{attrs:{for:"email"}},[e._v("Email address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",id:"email",autoComplete:"off"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),s("label",{attrs:{for:"password"}},[e._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",id:"password",autoComplete:"off"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),s("button",{staticClass:"form__btn"},[e._v("Login")])])},ee=[],te={name:"SignIn",data:function(){return{user:null,email:null,password:null}},methods:{handleSubmit:function(e){e.preventDefault(),this.login(this.email,this.password),this.email="",this.password=""},login:function(e,t){var s=this;g.a.post("/api/v1/users/login",{email:e,password:t}).then((function(e){s.user=e.data.data.user,sessionStorage.setItem("user",JSON.stringify(s.user)),"success"===e.data.status&&window.setTimeout((function(){window.location.assign("/")}),1500)})).catch((function(e){return alert(e.response.data.message)}))}}},se=te,ae=(s("0d73"),Object(d["a"])(se,Z,ee,!1,null,null,null)),ne=ae.exports,ie=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("form",{staticClass:"form form--signup",on:{submit:e.handleSubmit}},[s("h2",{staticClass:"form__h2"},[e._v("Create your account!")]),s("label",{attrs:{for:"name"}},[e._v("Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",id:"name",autoComplete:"off"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),s("label",{attrs:{for:"email"}},[e._v("Email address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",id:"email",autoComplete:"off"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),s("label",{attrs:{for:"password"}},[e._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{value:"{password}",type:"password",id:"password",autoComplete:"off"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),s("label",{attrs:{for:"confirm"}},[e._v("Confirm password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.confirm,expression:"confirm"}],attrs:{type:"password",id:"confirm",autoComplete:"off"},domProps:{value:e.confirm},on:{input:function(t){t.target.composing||(e.confirm=t.target.value)}}}),s("button",{staticClass:"form__btn"},[e._v("Sign Up")])])},oe=[],re=(s("b0c0"),{name:"SignUp",data:function(){return{name:null,email:null,password:null,confirm:null}},methods:{handleSubmit:function(e){e.preventDefault(),this.signup(this.name,this.email,this.password,this.confirm),this.name="",this.email="",this.password="",this.confirm=""},signup:function(e,t,s,a){var n=this;g.a.post("/api/v1/users/signup",{name:e,email:t,password:s,passwordConfirm:a}).then((function(e){n.user=e.data.data.user,sessionStorage.setItem("user",JSON.stringify(n.user)),"success"===e.data.status&&window.setTimeout((function(){window.location.assign("/")}),1500)})).catch((function(){return alert("One of these inputs is invalid. Passwords must be at least 8 characters. Please try again!")}))}}}),le=re,ce=Object(d["a"])(le,ie,oe,!1,null,null,null),ue=ce.exports,de={name:"LogIn",components:{SignIn:ne,SignUp:ue}},me=de,ve=(s("2b6b"),Object(d["a"])(me,X,Y,!1,null,"5556dffb",null)),pe=ve.exports;a["a"].config.productionTip=!1,a["a"].use(n["a"]);var fe=[{path:"/",component:Q},{path:"/login",component:pe}],_e=new n["a"]({routes:fe});new a["a"]({render:function(e){return e(k)},router:_e}).$mount("#app")},"5c0b":function(e,t,s){"use strict";var a=s("9c0c"),n=s.n(a);n.a},"5e36":function(e,t,s){"use strict";var a=s("dfd7"),n=s.n(a);n.a},6788:function(e,t,s){"use strict";var a=s("796e"),n=s.n(a);n.a},"6b55":function(e,t,s){},"796e":function(e,t,s){},"9c0c":function(e,t,s){},ba1c:function(e,t,s){},d06a:function(e,t,s){},d6e9:function(e,t,s){"use strict";var a=s("d06a"),n=s.n(a);n.a},dfd7:function(e,t,s){},e8f7:function(e,t,s){"use strict";var a=s("55c4"),n=s.n(a);n.a},edab:function(e,t,s){"use strict";var a=s("ba1c"),n=s.n(a);n.a}});
//# sourceMappingURL=app.fc915511.js.map